# RaidLootCounter

**Version:** 1.2.7

## 描述

RaidLootCounter 是一个为《魔兽世界》3.3.5版本设计的团队拾取管理插件。它旨在帮助团长和官员轻松追踪团队成员的装备拾取（MS - 主天赋，OS - 副天赋），管理roll点，并提供清晰的统计数据。

## 主要功能

- **团队成员自动同步**: 自动检测并同步团队成员列表。
- **MS/OS 拾取计数**: 记录每个团队成员获得的主天赋（MS）和副天赋（OS）装备数量。
- **详细的拾取历史**: 在“查看掉落”窗口中，可以查看所有Boss的掉落物品、拾取者和拾取类型。
- **手动添加装备**: 允许团长手动添加不在自动拾取列表中的物品。
- **Roll点捕获与通报**:
    - 通过“开启roll捕获”按钮，自动监听团队中的roll点。
    - “停止roll捕获”后，会自动根据选定的分配模式计算并通报获胜者。
- **可配置的分配模式**:
    - **MS+1**: 在roll点计算中，优先考虑MS拾取次数较少的玩家。
    - **MS>OS**: 在roll点计算中，仅根据roll点高低决定胜负，不考虑MS拾取次数。
    - 当前模式会显示在按钮上，方便查看。
- **一键发送统计**: 将当前所有成员的MS/OS拾取统计信息发送到团队警告频道。
- **数据清空与重置**:
    - “清空数据”按钮可以清除所有拾取记录。
    - `/rlc reset` 命令可以重置所有数据和窗口位置。
- **可最小化的界面**:
    - 点击主窗口的 "-" 按钮，可以将主窗口最小化为一个可拖动的小图标（"+"）。
    - 点击 "+" 图标可以恢复主窗口。
    - 小图标的位置可以随意拖动，并会自动吸附在屏幕边缘。

## 如何使用

### 打开插件
在聊天框中输入 `/rlc` 来打开或关闭主窗口。

### 主窗口按钮

- **同步团队**: 手动与当前团队成员进行同步。
- **清空数据**: 清空所有已记录的拾取数据（会弹出确认框）。
- **发送统计**: 将当前的拾取统计发送到团队频道。
- **查看掉落**: 打开历史掉落记录窗口。
- **分配模式**:
    - 点击打开分配模式选择窗口。
    - 在 "MS+1" 和 "MS>OS" 中选择一个模式。
    - 点击“保存”按钮以应用更改并关闭窗口。
- **开启/停止roll捕获**: 用于开始和结束对团队roll点的监听。
- **更新数量后立刻团队通知**: 勾选此项后，在手动分配装备时，会自动在团队频道通报拾取信息。

### 最小化与恢复

- 点击主窗口标题栏上的 **-** 按钮，主窗口会隐藏，并显示一个可拖动的 **+** 小窗口。
- 点击 **+** 小窗口，它会隐藏，并重新显示主窗口。
- `/rlc reset` 命令会将主窗口和 **+** 小窗口的位置都重置到屏幕中央。

## Slash 命令

- `/rlc`: 打开或关闭 RaidLootCounter 主窗口。
- `/rlc reset`: 重置插件的所有数据（拾取计数、历史记录）和所有窗口的位置。
- `/rlc clear`: 功能同“清空数据”按钮，清除所有拾取数据。
